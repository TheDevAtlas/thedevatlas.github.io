<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wii U Portal - Article</title>
  <link rel="stylesheet" href="/css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    .article-container {
      padding: 5% 10%;
      color: white;
      max-width: 900px;
      margin: auto;
    }
    .metadata {
      font-size: 0.9em;
      opacity: 0.75;
      margin-bottom: 20px;
    }
    .tldr {
      background: rgba(255, 255, 255, 0.05);
      border-left: 4px solid #ffd200;
      padding: 15px;
      margin: 20px 0;
      font-style: italic;
    }
    .author-box {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 10px;
    }
    .author-box img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
    }
    details code {
      background: #111;
      display: block;
      padding: 10px;
      border-radius: 6px;
      overflow-x: auto;
      margin-bottom: 20px;
    }
    button.article-button {
      padding: 10px 20px;
      font-weight: 600;
      background: linear-gradient(135deg, #fd746c, #ff9068);
      color: white;
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(253, 116, 108, 0.4);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button.article-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(253, 116, 108, 0.6);
    }
    blockquote {
      margin: 20px 0;
      padding: 15px;
      border-left: 4px solid #6e8efb;
      background: rgba(255, 255, 255, 0.05);
    }
    iframe, .model-embed {
      margin: 30px 0;
      width: 100%;
      height: 400px;
      border: none;
      border-radius: 10px;
    }
    img.article-img {
      max-width: 100%;
      border-radius: 10px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div style="position: fixed; top: 0; left: 0; width: 100%; height: 180%; background: url('/webAssets/background/heroback.png') center center / cover no-repeat; z-index: -1;"></div>

  <div id="header-container"></div>

  <main class="article-container">
    <h1>Wii U Portal: Bringing Physics to the GamePad</h1>

    <div class="metadata">
      <span>Released: April 29, 2025</span> · 
      <span>Edited: April 30, 2025</span>
      <div class="author-box">
        <img src="/webAssets/images/author-jacob.png" alt="Jacob McGowan" />
        <span>By Jacob McGowan</span>
      </div>
    </div>

    <div class="tldr">
      TL;DR: I ported Portal to the Wii U using Unity, added touchscreen mechanics, and broke the GamePad trying to solve physics puzzles.
    </div>

    <p>
      When I started this project, I didn’t think I’d be calculating portal momentum on a second screen. But here we are.
      The Wii U GamePad posed more challenges than I anticipated...
    </p>

    <details>
      <summary style="cursor: pointer; margin: 10px 0; font-weight: bold;">View Source Code</summary>
      <code>
        void ShootPortal(Vector3 direction) {
          RaycastHit hit;
          if (Physics.Raycast(transform.position, direction, out hit)) {
            Instantiate(portalPrefab, hit.point, Quaternion.LookRotation(hit.normal));
          }
        }
      </code>
    </details>

    <div class="model-embed" id="threejs-container"></div>

    <iframe
      src="https://www.youtube.com/embed/IH7xm6s3mWM?enablejsapi=1"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <p>
      Here’s what the final prototype looked like on real hardware:
    </p>

    <img src="/webAssets/images/portal-wiiu-screenshot.png" class="article-img" alt="Wii U Portal Screenshot" />

    <blockquote>
      “The cake may be a lie, but the touchscreen physics are very real.” – Me, after debugging rotation drift for 6 hours.
    </blockquote>

    <button class="article-button">Try the Demo</button>

    <p>References:</p>
    <ul>
      <li><a href="https://github.com/TheDevAtlas/PortalWiiU" target="_blank">Source Code</a></li>
      <li><a href="https://www.valvesoftware.com/en/about" target="_blank">Valve's Original Portal Game</a></li>
    </ul>
  </main>

  <div id="footer-container"></div>

  <script>
    async function loadComponent(id, path) {
      const response = await fetch(path);
      const text = await response.text();
      document.getElementById(id).innerHTML = text;
    }
    loadComponent('header-container', './components/header.html');
    loadComponent('footer-container', './components/footer.html');
  </script>

  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
  <script>
    // Example basic 3D model embed (replace path and logic with your needs)
    function loadModel() {
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
      camera.position.z = 3;

      const container = document.getElementById("threejs-container");
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(container.clientWidth, container.clientHeight);
      container.appendChild(renderer.domElement);

      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambientLight);

      const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
      directionalLight.position.set(5, 5, 5);
      scene.add(directionalLight);

      const loader = new THREE.OBJLoader();
      loader.load("/webAssets/3dhome/WiiU.obj", function (object) {
        object.scale.set(1.5, 1.5, 1.5);
        scene.add(object);

        function animate() {
          requestAnimationFrame(animate);
          object.rotation.y += 0.005;
          renderer.render(scene, camera);
        }
        animate();
      });
    }
    loadModel();
  </script>
</body>
</html>
